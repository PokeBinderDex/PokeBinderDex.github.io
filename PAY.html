<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>Payer</title></head>
<body>
<h2>TEST</h2>
<button id="payBtn">Payer 5€</button>

<script src="https://js.stripe.com/v3/"></script>
<script>
const stripe = Stripe("pk_test_51S7Goh4KJAy57ttRX7Xi0c2jri9BrsRdZm3EjU244EyGB5CkLWPsigqMEXDRyKQAZVeUwSIDoyxdy3BgobhjzbaQ00Hc9vUecJ"); // ta clé publique
const SERVER_URL = "http://localhost:4242";

document.getElementById("payBtn").addEventListener("click", async () => {
  const r = await fetch(`${SERVER_URL}/create-checkout-session`, { method: 'POST' });
  const data = await r.json();
  stripe.redirectToCheckout({ sessionId: data.id });
});
</script>
</body>
</html>
